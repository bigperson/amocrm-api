# Типы задач

> # Внимание!!!
> Данный функционал реализован через непубличное API, сохранение работоспособности в дальнейшем не гарантируется. Как только подобные методы будут добавлены в публичное API реализацию можно будет обновить с сохранением текущего клиентского интерфейса.

## Настройка
Создайте сущность `linkprofit\AmoCRM\entities\TaskType` и задайте ей необходимые параметры

```php
$taskType = new \linkprofit\AmoCRM\entities\Task();
$taskType->name = 'Тип задачи';
```

Задайте `id` сущности, если хотите обновить уже существующую.

## Использование
> # Внимание!!!
> Метод `save()` удалит все не переданные типы задач. Для обновления уже существующих типов необходимо изначально их получить через сервис [linkprofit\AmoCRM\services\AccountService](/docs/account.md)


Инициализируйте сервис с объектом [linkprofit\AmoCRM\RequestHandler](/docs/request.md) и добавьте объект класса `linkprofit\AmoCRM\entities\TaskType` методом `add()`.
Вы можете добавить несколько сущностей для множественного добавления/обновления

```php
$taskTypeService = new \linkprofit\AmoCRM\services\TaskTypeService($request);
$taskTypeService->add($taskType);
```

Метод `save()` вернет `response` сервера в случае успеха. В случае неудачи метод вернет `false`.

Если вам необходимо обработать ответ, вы можете воспользоваться методом `parseResponseToEntities()`, который вернет массив добавленных объектов `linkprofit\AmoCRM\entities\TaskType` с инициализированным свойством `id`, который вернулся ответом сервера на наш запрос.
